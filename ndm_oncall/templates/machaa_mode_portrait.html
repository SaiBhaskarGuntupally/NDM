<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Vendor Call Cockpit</title>
    <link rel="stylesheet" href="/static/machaa_portrait.css?v=202602121640">
</head>
<body>
    <!-- PORTRAIT COCKPIT ROOT -->
    <div id="portraitCockpit">
        
        <!-- ZONE A: TOP CONTROL BAR (20%) -->
        <div id="topBar">
            <!-- Call Identity Row -->
            <div class="control-row">
                <div class="field-group">
                    <label>Vendor:</label>
                    <input type="text" id="vendorName" class="chip-input" placeholder="Company Name">
                </div>
                <div class="field-group">
                    <label>Source:</label>
                    <div class="chip-selector" id="sourceSelector">
                        <button class="chip" data-value="Monster">Monster</button>
                        <button class="chip" data-value="Dice">Dice</button>
                        <button class="chip" data-value="LinkedIn">LinkedIn</button>
                        <button class="chip" data-value="DB">DB</button>
                    </div>
                </div>
                <div class="field-group">
                    <label>Caller last4:</label>
                    <span id="callerLast4" class="readonly-text">____</span>
                </div>
                <div class="field-group">
                    <label>Timer:</label>
                    <span id="callTimer" class="readonly-text">00:00</span>
                </div>
            </div>

            <!-- Deal Qualifiers Row -->
            <div class="control-row">
                <div class="field-group">
                    <label>Client:</label>
                    <input type="text" id="clientName" class="chip-input" placeholder="Client Name">
                </div>
                <div class="field-group">
                    <label>Structure:</label>
                    <div class="segmented-control" id="structureControl">
                        <button class="segment" data-value="W2">W2</button>
                        <button class="segment" data-value="C2C">C2C</button>
                        <button class="segment" data-value="C2H">C2H</button>
                    </div>
                </div>
                <div class="field-group">
                    <label>Rate:</label>
                    <input type="text" id="rateInput" class="chip-input" placeholder="$__/hr">
                </div>
                <div class="field-group">
                    <label>Visa Req:</label>
                    <div class="chip-selector" id="visaSelector">
                        <button class="chip" data-value="None">None</button>
                        <button class="chip" data-value="USC">USC</button>
                        <button class="chip" data-value="GC">GC</button>
                        <button class="chip" data-value="EAD">EAD</button>
                        <button class="chip" data-value="H1B">H1B</button>
                    </div>
                </div>
            </div>

            <!-- Call State Row -->
            <div class="control-row">
                <div class="field-group wide">
                    <label>Call State:</label>
                    <div class="segmented-control" id="callStateControl">
                        <button class="segment" data-state="Screening">Screening</button>
                        <button class="segment" data-state="Requirement">Requirement</button>
                        <button class="segment" data-state="Rate">Rate</button>
                        <button class="segment" data-state="Docs">Docs</button>
                        <button class="segment" data-state="Close">Close</button>
                    </div>
                </div>
                <div class="field-group wide">
                    <label>Next Action:</label>
                    <span id="nextAction" class="next-action-text">Ask: Where did you get my profile from?</span>
                </div>
            </div>

            <!-- Hotkey Hint -->
            <div class="control-row hotkey-row">
                <span class="hotkey-hint">Ctrl+Space Fullscreen</span>
            </div>
        </div>

        <!-- ZONE B: MID ZONE (55%) -->
        <div id="midZone">
            <!-- Left: Flow Graph (60%) -->
            <div id="flowGraphContainer">
                <svg id="flowGraph" viewBox="0 0 400 600" xmlns="http://www.w3.org/2000/svg">
                    <!-- Define styles -->
                    <defs>
                        <style>
                            .gate-node { cursor: pointer; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
                            .gate-node:hover .gate-circle { 
                                stroke-width: 4; 
                                filter: drop-shadow(0 4px 12px rgba(255, 200, 61, 0.5)); 
                                transform: scale(1.15); 
                            }
                            .gate-circle { transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
                            .gate-circle.gray { 
                                fill: rgba(18, 28, 47, 0.7); 
                                stroke: rgba(255, 200, 61, 0.3); 
                                stroke-width: 2; 
                            }
                            .gate-circle.blue { 
                                fill: url(#blueGradient); 
                                stroke: #ffc83d; 
                                stroke-width: 3; 
                                filter: drop-shadow(0 0 12px rgba(255, 200, 61, 0.6)); 
                                animation: gate-active-pulse 2s ease-in-out infinite;
                            }
                            .gate-circle.green { 
                                fill: url(#greenGradient); 
                                stroke: #3affc3; 
                                stroke-width: 3; 
                                filter: drop-shadow(0 0 12px rgba(58, 255, 195, 0.6)); 
                            }
                            .gate-circle.red { 
                                fill: url(#redGradient); 
                                stroke: #ff6b6b; 
                                stroke-width: 3; 
                                filter: drop-shadow(0 0 12px rgba(255, 107, 107, 0.6)); 
                            }
                            .gate-text { 
                                font-size: 12px; 
                                font-weight: 700; 
                                fill: #f5f7fa; 
                                text-anchor: middle; 
                                pointer-events: none; 
                                transition: all 0.3s; 
                            }
                            .gate-text.active { 
                                fill: #ffc83d; 
                                text-shadow: 0 0 8px rgba(255, 200, 61, 0.8); 
                                filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5));
                            }
                            .branch-line { 
                                stroke: rgba(255, 200, 61, 0.3); 
                                stroke-width: 2; 
                                fill: none; 
                                opacity: 0.5; 
                            }
                            .branch-text { 
                                font-size: 10px; 
                                fill: rgba(245, 247, 250, 0.7); 
                                font-weight: 600; 
                            }
                            
                            @keyframes gate-active-pulse {
                                0%, 100% {
                                    filter: drop-shadow(0 0 12px rgba(255, 200, 61, 0.6));
                                }
                                50% {
                                    filter: drop-shadow(0 0 20px rgba(255, 200, 61, 0.9));
                                }
                            }
                        </style>
                        <!-- Gradients for gates -->
                        <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ffc83d;stop-opacity:0.9" />
                            <stop offset="100%" style="stop-color:#ff9f0a;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="greenGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#3affc3;stop-opacity:0.9" />
                            <stop offset="100%" style="stop-color:#0ed29d;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="redGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:0.9" />
                            <stop offset="100%" style="stop-color:#ee5a52;stop-opacity:1" />
                        </linearGradient>
                    </defs>

                    <!-- Center trunk -->
                    <line x1="200" y1="40" x2="200" y2="560" class="branch-line" />

                    <!-- Gate 1: JD Gate -->
                    <g class="gate-node" data-gate="1" transform="translate(200, 50)">
                        <circle class="gate-circle gray" cx="0" cy="0" r="28" />
                        <text class="gate-text" y="5">JD Gate</text>
                    </g>
                    <line x1="228" y1="50" x2="280" y2="50" class="branch-line" />
                    <text x="285" y="53" class="branch-text">NO → Exit</text>
                    <line x1="172" y1="50" x2="120" y2="50" class="branch-line" />
                    <text x="115" y="53" class="branch-text" text-anchor="end">YES</text>

                    <!-- Gate 2: Role Alignment -->
                    <g class="gate-node" data-gate="2" transform="translate(200, 130)">
                        <circle class="gate-circle gray" cx="0" cy="0" r="28" />
                        <text class="gate-text" y="5">Role</text>
                    </g>
                    <line x1="228" y1="130" x2="280" y2="130" class="branch-line" />
                    <text x="285" y="133" class="branch-text">NO → Exit</text>
                    <line x1="172" y1="130" x2="120" y2="130" class="branch-line" />
                    <text x="115" y="133" class="branch-text" text-anchor="end">YES</text>

                    <!-- Gate 3: Structure Gate -->
                    <g class="gate-node" data-gate="3" transform="translate(200, 210)">
                        <circle class="gate-circle gray" cx="0" cy="0" r="28" />
                        <text class="gate-text" y="5">Structure</text>
                    </g>
                    <line x1="172" y1="210" x2="120" y2="240" class="branch-line" />
                    <text x="115" y="243" class="branch-text" text-anchor="end">C2C</text>
                    <line x1="228" y1="210" x2="280" y2="240" class="branch-line" />
                    <text x="285" y="243" class="branch-text">W2</text>

                    <!-- Gate 4: Rate Gate -->
                    <g class="gate-node" data-gate="4" transform="translate(200, 290)">
                        <circle class="gate-circle gray" cx="0" cy="0" r="28" />
                        <text class="gate-text" y="5">Rate</text>
                    </g>
                    <line x1="228" y1="290" x2="280" y2="290" class="branch-line" />
                    <text x="285" y="293" class="branch-text">NO → Negotiate</text>
                    <line x1="172" y1="290" x2="120" y2="290" class="branch-line" />
                    <text x="115" y="293" class="branch-text" text-anchor="end">YES</text>

                    <!-- Gate 5: Docs Gate -->
                    <g class="gate-node" data-gate="5" transform="translate(200, 370)">
                        <circle class="gate-circle gray" cx="0" cy="0" r="28" />
                        <text class="gate-text" y="5">Docs</text>
                    </g>
                    <line x1="228" y1="370" x2="280" y2="370" class="branch-line" />
                    <text x="285" y="373" class="branch-text">NO → Hold</text>
                    <line x1="172" y1="370" x2="120" y2="370" class="branch-line" />
                    <text x="115" y="373" class="branch-text" text-anchor="end">YES</text>

                    <!-- Gate 6: RTR Gate -->
                    <g class="gate-node" data-gate="6" transform="translate(200, 450)">
                        <circle class="gate-circle gray" cx="0" cy="0" r="28" />
                        <text class="gate-text" y="5">RTR</text>
                    </g>
                    <line x1="228" y1="450" x2="280" y2="450" class="branch-line" />
                    <text x="285" y="453" class="branch-text">NO → Wait</text>
                    <line x1="172" y1="450" x2="120" y2="450" class="branch-line" />
                    <text x="115" y="453" class="branch-text" text-anchor="end">YES</text>

                    <!-- Gate 7: Close -->
                    <g class="gate-node" data-gate="7" transform="translate(200, 530)">
                        <circle class="gate-circle gray" cx="0" cy="0" r="28" />
                        <text class="gate-text" y="5">Close</text>
                    </g>
                </svg>
            </div>

            <!-- Right: Next 5 Questions (40%) -->
            <div id="next5Container">
                <h3 class="zone-title">Next 5 Questions</h3>
                <div id="next5List">
                    <!-- Questions will be dynamically populated -->
                </div>
            </div>
        </div>

        <!-- ZONE C: BOTTOM ARSENAL BAR (25%) -->
        <div id="bottomBar">
            <!-- Left: Group Pill Matrix -->
            <div id="groupMatrix">
                <h4 class="arsenal-title">Question Groups</h4>
                <div class="group-pills">
                    <button class="group-pill" data-group="1">G1 Opening (7)</button>
                    <button class="group-pill" data-group="2">G2 Screening (8)</button>
                    <button class="group-pill" data-group="3">G3 JD Clarity (6)</button>
                    <button class="group-pill" data-group="4">G4 Requirement (9)</button>
                    <button class="group-pill" data-group="5">G5 Structure (7)</button>
                    <button class="group-pill" data-group="6">G6 Rate (10)</button>
                    <button class="group-pill" data-group="7">G7 Docs (8)</button>
                    <button class="group-pill" data-group="8">G8 Visa (6)</button>
                    <button class="group-pill" data-group="9">G9 Timeline (7)</button>
                    <button class="group-pill" data-group="10">G10 Close (6)</button>
                    <button class="group-pill" data-group="11">G11 Red Flags (8)</button>
                </div>
            </div>

            <!-- Right: Mini Cheat Sheet -->
            <div id="miniCheatSheet">
                <h4 class="arsenal-title">Interview Cheat Sheet</h4>
                <div class="cheat-content">
                    <div class="cheat-section">
                        <strong>Key Points:</strong>
                        <span>1) Confirm role/team 2) Ask pain points 3) Align experience</span>
                    </div>
                    <div class="cheat-section">
                        <strong>Objections:</strong>
                        <span>Scope → Outcomes; Depth → Systems & Impact</span>
                    </div>
                    <div class="cheat-section">
                        <strong>Metrics:</strong>
                        <span>Performance gains • Velocity • Retention • Collaboration</span>
                    </div>
                    <div class="cheat-section">
                        <strong>Closing:</strong>
                        <span>Confirm next steps • Ask for feedback</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Drawer Overlay -->
    <div id="drawerOverlay" class="hidden">
        <div id="drawerContent">
            <div class="drawer-header">
                <h3 id="drawerTitle">Group Questions</h3>
                <button id="drawerClose" class="close-btn">✕</button>
            </div>
            <div class="drawer-search">
                <input type="text" id="drawerSearch" placeholder="Search questions...">
            </div>
            <div id="drawerBody">
                <!-- Questions will be populated dynamically -->
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="hidden">Copied</div>

    <script src="/static/machaa_portrait.js?v=202602121640"></script></script>
</body>
</html>
